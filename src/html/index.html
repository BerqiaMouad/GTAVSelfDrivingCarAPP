<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>GTAV S.D.C</title>
    <link rel="stylesheet" href="../css/index.css">
</head>
<body>
	<section class="landing-page" >
		<div class="wrapper-loggin">
			<h2> User Login </h2>
			<form  id="login-form" action="" method="POST">
				<div class="input-box">
					<span class="icon"><ion-icon name="person"></ion-icon></span>
					<input type="text" name="username" required>
					<label>Username</label>
				</div>
				<div class="input-box">
					<span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
					<input type="password" name="password" required>
					<label>Password</label>
				</div>
				<div class="remember-me">
					<label><input type="checkbox"> Remember me</label>
					<a href="#">Forgot password?</a>
				</div>
				<button type="submit" class="btn">Login</button>
				<div class="signup">
					<p> Don't have an account? <a href="./register.html">Sign up</a> </p>
				</div>
				<div id="error-message" class="error-message"></div>
			</form>
		</div>
	</section>



	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
	<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

	<script>

		$(document).ready(function(){
			$("#login-form").submit(function(e){
				e.preventDefault();
				var formData = new FormData(this);
				$.ajax({
					url: "http://localhost/GTAVSelfDrivingCar/login.php",
					type: "POST",
					data: formData,
					cache: false,
					contentType: false,
					processData: false,
					mode: 'no-cors',
					success: function(data){
						if(data == "You are logged in"){
							window.location.href = "home.html";
						}else{
							$("#error-message").html(data);
						}
					}
				});
			});
		});

		
	</script>
</body>
</html>
